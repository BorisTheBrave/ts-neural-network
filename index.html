<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">
  <script src="./dist/main.js"></script>

  <title>Neural network visualized</title>
</head>

<body>
  <div class="container mt-3">
    <div class="custom-control custom-checkbox" style="float: right;">
      <input type="checkbox" class="custom-control-input" id="customCheck1" checked="checked">
      <label class="custom-control-label" for="customCheck1">Show ads</label>
    </div>
    <h1>Neural network visualized</h1>
    <p class="lead">Visualization of a simple neural network for strictly educational purposes.</p>
    <hr>
    <div class="container-fluid" id="controls">
      <div class="row">
        <div class="col-md-4">
          <h5>Network size</h5>
          <table id="layer-controls">
          </table>
        </div>
        <div class="col-md-4 pr-5">
          <h5>Learning settings</h5>
          <div class="row">
            <label for="rate-input" class="control-label col-8">Learning rate:</label>
            <select class="form-control form-control-sm col-4" id="rate-input">
              <option value="0.001">0.001</option>
              <option value="0.003">0.003</option>
              <option value="0.01">0.01</option>
              <option value="0.03">0.03</option>
              <option value="0.1">0.1</option>
              <option value="0.3">0.3</option>
              <option value="1" selected="true">1</option>
              <option value="3">3</option>
              <option value="10">10</option>
              <option value="30">30</option>
            </select>
          </div>
          <div class="row mt-1 mb-1">
            <label for="regularization-input" class="col-8">Regularization:</label>
            <select class="form-control form-control-sm col-4" id="regularization-type-input">
              <option value="none">None</option>
              <option value="L1">L1</option>
              <option value="L2">L2</option>
            </select>
          </div>
          <div class="row">
            <label for="regularization-input" class="col-8">Regularization rate:</label>
            <select class="form-control form-control-sm col-4" id="regularization-rate-input">
              <option value="0.00001">0.00001</option>
              <option value="0.00003">0.00003</option>
              <option value="0.0001">0.0001</option>
              <option value="0.0003" selected="true">0.0003</option>
              <option value="0.001">0.001</option>
              <option value="0.003">0.003</option>
              <option value="0.01">0.01</option>
              <option value="0.03">0.03</option>
              <option value="0.1">0.1</option>
              <option value="0.3">0.3</option>
              <option value="1">1</option>
              <option value="3">3</option>
              <option value="10">10</option>
              <option value="30">30</option>
            </select>
          </div>
        </div>
        <div class="col-md-4 pr-5">
          <h5>Train</h5>
          <div class="row">
            <label for="iters-input" class="col-8">Num. of iterations:</label>
            <input class="form-control form-control-sm col-4" id="iters-input" type="number" name="rate" min="0" max="20000" value="5000"
              step="1000">
          </div>
          <div class="row">
            <label for="iter-output" class="col-8">Current iteration:</label>
            <b id="iter-output" class="col-4">0</b>
          </div>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-4">
          <h5>Training set input</h5>
          <textarea class="form-control" id="training-set-input" rows="6">
[
  [[1,1],[0]],
  [[1,0],[1]],
  [[0,1],[1]],
  [[0,0],[0]]
]</textarea>
          <button type="button" class="btn btn-outline-primary btn-sm mt-3" onclick="setTrainingData()">Set training data</button>
        </div>
        <div class="col-8">
          <h5>Training set</h5>
          <table class="table table-sm table-bordered table-hover table-striped">
            <thead class="thead-dark">
              <tr id="training-set-neurons-output">
              </tr>
            </thead>
            <tbody id="training-set-data-output">
            </tbody>
          </table>
        </div>
      </div>
      <hr>
      <div class="row mb-3">
        <div class="col-md-auto">
          <button type="button" class="btn btn-primary mr-2" onclick="train(true)">Train</button>
          <button type="button" class="btn btn-secondary" onclick="train(false)">Step</button>
          <button type="button" class="btn btn-danger" onclick="reset()">Reset</button>
        </div>
        <div class="col-md-auto" style="padding-top: 5px;">
          Cost:
          <b id="cost"></b>
        </div>
      </div>
    </div>
    <div id="input-controls"></div>
    <canvas id="content" width="1200" height="600" style="border: 5px solid #2E282A; margin-bottom: 1em">Sorry, you need a better browser to see the neural net.</canvas>
    <div>
      <h2>What is this?</h2>
      <p>
        This is implementation of neural network with back-propagation. blablabla
      </p>
    </div>

  </div>
</body>

</html>