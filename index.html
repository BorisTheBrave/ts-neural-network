<!doctype html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
    crossorigin="anonymous">
  <link rel="stylesheet" href="main.css">
  <script src="./dist/main.js"></script>

  <title>Neural network visualized</title>
</head>

<body>
  <div class="container mt-3">
    <h1>Neural network visualized</h1>
    <p class="lead">Visualization of a simple neural network for strictly educational purposes.</p>
    <hr>
    <div class="container-fluid" id="controls">
      <div class="row">
        <div class="col-md-3">
          <h5>Input values</h5>
          <div id="input-controls"></div>
        </div>
        <div class="col-md-3">
          <h5>Network size</h5>
          <table id="layer-controls">
          </table>
        </div>
        <div class="col-md-3">
          <h5>Learning settings</h5>
          <div class="row">
            <label for="rate-input" class="control-label col-8">Learning rate:</label>
            <input class="form-control form-control-sm col-4" id="rate-input" type="number" name="rate" min="0" max="10" step="0.1" value="1">
          </div>
          <div class="row">
            <label for="regularization-input" class="col-8">Regularization:</label>
            <select class="form-control form-control-sm col-4" id="regularization-type-input">
              <option value="none">None</option>
              <option value="L1">L1</option>
              <option value="L2">L2</option>
            </select>
          </div>
          <div class="row">
            <label for="regularization-input" class="col-8">Regularization rate:</label>
            <input class="form-control form-control-sm col-4" id="regularization-rate-input" type="number" name="rate" min="0" max="10"
              step="0.1" value="0.1">
          </div>
        </div>
        <div class="col-md-3">
          <h5>Train</h5>
          <div class="row">
            <label for="iters-input" class="col-8">Num. of iterations:</label>
            <input class="form-control form-control-sm col-4" id="iters-input" type="number" name="rate" min="0" max="20000" value="5000"
              step="1000">
          </div>
          <div class="row">
            <label for="iter-output" class="col-8">Current iteration:</label>
            <b id="iter-output" class="col-4">0</b>
          </div>
        </div>
      </div>
      <hr>
      <div class="row">
        <div class="col-4">
          <h5>Training set input</h5>
          <textarea class="form-control" id="training-set-input" rows="3"></textarea>
          <button type="button" class="btn btn-outline-primary btn-sm mt-3" onclick="setTrainingData()">Set training data</button>
        </div>
        <div class="col-8">
          <h5>Training set</h5>
          <table class="table table-sm table-bordered table-hover table-striped">
            <thead class="thead-dark">
              <tr id="training-set-neurons-output">

              </tr>
            </thead>
            <tbody id="training-set-data-output">
            </tbody>
          </table>
        </div>
      </div>
      <hr>
      <div class="row mb-3">
        <div class="col-md-auto">
          <button type="button" class="btn btn-primary mr-2" onclick="train(true)">Train</button>
          <button type="button" class="btn btn-secondary" onclick="train(false)">Step</button>
          <button type="button" class="btn btn-danger" onclick="reset()">Reset</button>
        </div>
        <div class="col-md-auto">
          Cost:
          <b id="cost"></b>
        </div>
      </div>
    </div>

    <canvas id="content" width="1200" height="600" style="border: 5px solid #2E282A; margin-bottom: 70px;"></canvas>
  </div>
</body>

</html>